<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0048)http://www.karrels.org/Ed/ACM/weur95/prob_c.html -->
<HTML><HEAD><TITLE>Problem C - Matty's Blocks</TITLE>
<META content="text/html; charset=ks_c_5601-1987" http-equiv=Content-Type><LINK 
href="mailto:Ed@Tool.com" rev=made>
<META content="MSHTML 5.00.3315.2870" name=GENERATOR></HEAD>
<BODY><EM>Not an official ACM page</EM> <BR>[<A 
href="http://www.karrels.org/Ed/ACM/weur95/prob_d.html">Problem D</A> | <A 
href="http://www.karrels.org/Ed/ACM/weur95/index.html">1995 Western Europe 
problem set</A> | <A href="http://www.karrels.org/Ed/ACM/index.html">Ed's 
programming contest problem archive</A> | <A 
href="http://www.karrels.org/Ed/index.html">my home page</A>] 
<HR>

<CENTER>
<H3>1995-1996 ACM International Collegiate Programming Contest<BR>Western 
European Regional</H3>
<H1>Problem C </H1>
<H2>Matty's Blocks </H2></CENTER>Little Matty liked playing with his blocks very 
much. He always constructed his 'buildings' in the same way: he made stacks of 
one or more blocks, and he put those stacks on a square table that was exactly 
<EM>K</EM> blocks wide (<EM>K</EM> = 8 for his largest table, so it could 
contain up to 8¡¿8 block stacks). He didn't put the stacks randomly on the table. 
No, he always made a nice 'square' pattern. In most buildings, there was no 
pattern visible in the heights of the stacks. However, since Little Matty 
himself was only eight blocks tall, a single stack of blocks never consisted of 
more than eight blocks. 
<P>This is an example of one of his buildings. It was built on a table that 
could contain 4¡¿4 block stacks. 
<P>
<CENTER><IMG src="Problem C - Matty's Blocks.files/blocks1.gif"></CENTER>
<P>He liked drawing too. To record his block buildings for future generations, 
he would draw them on paper. Since drawing a three-dimensional block building 
just was too hard for him, he made two drawings of a building: one straight from 
the front (you could only see the front of the blocks), and one from the right 
(you could only see the right side of the blocks). The drawings were in fact 
two-dimensional projections of the block building, showing only its outline on 
the front or on the right side. 
<P>These are the drawings he made of the building shown above. 
<P>
<CENTER><IMG src="Problem C - Matty's Blocks.files/blocks2.gif"></CENTER>
<P>He thought that such a pair of drawings would give enough information to be 
able to re-build the block building later (but he never tried it). 
<P>Years later, looking again at the drawings, he realized that this was not the 
case: from most pairs of drawings, he was able to construct more than one 
building that had the same outlines (front and right side) as the original one. 
He found out that from every (front, side)-pair of drawings that he had made, he 
could construct a 'minimal' building, one that has the same outlines as the 
original building and contains a minimal number of blocks <EM>N</EM> (so it was 
not possible to construct a building with the same outlines with less than 
<EM>N</EM> blocks). Furthermore, he could add more blocks to this minimal 
building, so that the outlines remained the same, up to the point that he had 
added <EM>M</EM> (<EM>M</EM> &gt;= 0) blocks and he had a 'maximal' building, 
one that still had the same outlines as his minimal one, and adding one extra 
block would result in a building with a different outline (so there are no 
buildings with the same outlines that contain more than <EM>N</EM> + <EM>M</EM> 
blocks). 
<P>As an example, these are minimal and maximal buildings for the drawings shown 
above. In this case, <EM>N</EM> = 7 and <EM>M</EM> = 10. 
<P>
<CENTER>
<TABLE>
  <TBODY>
  <TR>
    <TD><IMG src="Problem C - Matty's Blocks.files/blocks3a.gif"> 
    <TD><IMG src="Problem C - Matty's Blocks.files/blocks3b.gif"> 
  <TR>
    <TD align=middle>Minimal Building 
    <TD align=middle>Maximal Building </TR></TBODY></TABLE></CENTER>
<P>Matty started determining the <EM>N</EM> and <EM>M</EM> for every pair of 
drawings he had made, but soon he found this task to be tedious. Now he asks 
<EM>you</EM> to write a program that does the job for him! 
<P>
<H3>Input Specification </H3>The input contains on the first line the number of 
test cases. Each test case starts with a line containing only the size of the 
table <EM>K</EM>. The next pair of lines each contain the description of one 
drawing. Each description consists of <EM>K</EM> non-negative integers separated 
by spaces. Each number indicates the height of the corresponding projection of a 
stack of blocks in the drawing. The description of the front drawing always 
precedes the description of the right side drawing. From each pair of drawings 
at least one block building can be constructed. 
<P>
<H3>Output specification </H3>For each test case output the following line: 
<BLOCKQUOTE><PRE>Matty needs at least <EM>N</EM> blocks, and can add at most <EM>M</EM> extra blocks.
</PRE></BLOCKQUOTE>
<P>
<H3>Sample Input </H3><PRE>2
4
2 0 3 1
1 1 2 3
1
1
1
</PRE>
<P>
<H3>Sample Output </H3><PRE>Matty needs at least 7 blocks, and can add at most 10 extra blocks.
Matty needs at least 1 blocks, and can add at most 0 extra blocks.
</PRE>
<HR>
This page maintained by <A href="mailto:Ed@Tool.com">Ed Karrels</A>.<BR>Last 
updated January 3, 1998 </BODY></HTML>
