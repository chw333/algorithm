#include <fstream.h>

int n;
int min = 1000;
int move[4][2] = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};
int y2, x2;
int table[20][20];
int pr[100][2];
int ke[100][2];

int back(int y, int x, int t);

int main()
{
	cout << "장애물의 수를 입력하시오 ? ";
	cin >> n;
	int y, x;
	for(int i = 0; i < n; i++)
	{
		cout << '?';
		cin >> y >> x;
		table[--y][--x] = 1;
	}
	cout << "시작점의 좌표는?";
	cin >> y >> x;
	cout << "끝점의 좌표는?";
	cin >> y2 >> x2;
	y--, x--, y2--, x2--;
	back(y, x, 0);
	cout << "로봇의 최단 경로 = ";
	for(i = 0; i < min - 1; i++)
		cout << '(' << pr[i][0] << ", " << pr[i][1] << ")-";
	cout << '(' << pr[i][0] << ", " << pr[i][1] << ')';
	return 0;
}

int back(int y, int x, int t)
{
	ke[t][0] = y;
	ke[t][1] = x;
	int i;
	if (t >= min - 1) return 1;
	table[y][x] = 1;
	if (x2 == x && y == y2)
	{
		min = t + 1;
		for(i = 0; i < t + 1; i++)
			pr[i][0] = ke[i][0], pr[i][1] = ke[i][1];
	}
	else
	{
		for(i = 0; i < 4; i++)
		{
			int yy, xx;
			yy = y + move[i][0];
			xx = x + move[i][1];
			if (yy >= 0 && xx >= 0 && yy < 10 && xx < 10)
			{
				if (table[yy][xx] == 0)
				{
					back(yy, xx, t + 1);
				}
			}
		}
	}
	table[y][x] = 0;
	return 0;
}
