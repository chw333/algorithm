/* ACM East Central Programming Contest 1991 */
/* Problem 1 Scatter Plot */
/* requires the following input
	line 1 : two integers: Origin and increment values for X
	line 2 : two integers: Origin and increment values for Y
   Round coordinates to the nearest increment.  Keep track of number of same
   coordinates.  Print out ascii graph contain labels for each axis and a
   number of each coordinate.
*/

#include <stdio.h>
#include <conio.h>

#define MAXCOL	12
#define MAXROW	20
#define MAXPAIRS 100

int round_it(int,int,int);
void graph(int,int,int,int);

int pairs[2][MAXPAIRS];
int graphplot[MAXROW][MAXCOL];

void main()
{
   int x=0, y=1, i, r, num_of_pairs, lowx, lowy, hix, hiy, xinc, yinc;
   char c;

   clrscr();
   for(i =0; i<MAXROW; i++ )
	for( r=0; r<MAXCOL; r++ )
	    graphplot[i][r] = 0;
    scanf("%d %d %d %d",&lowx, &xinc, &lowy, &yinc );
    for(i=0; i<20&&scanf("%d%c%d\n",&(pairs[x][i]),&c,&(pairs[y][i]))!=0; i++)
    {
	graphplot[ round_it(pairs[y][i],lowy,yinc) ]
		[ round_it(pairs[x][i],lowx,xinc) ]++;
    }
    graph( lowx, xinc, lowy, yinc );
}

void graph( int lx, int incx, int ly, int incy )
{
  int i, r=MAXROW-1,c=0,hy;
  char *s="     +----+----+----+----+----+----+----+----+----+----+----+----+";

    for(i=1, hy=ly+incy*(MAXROW-1); i<=MAXROW;i++,hy-=incy)
    {
	printf("%5d:",hy);
	for(c=0;c<MAXCOL;c++)
	    (graphplot[r][c])? printf("%5d",graphplot[r][c]):
				printf("     ");
	r--;
	putchar('\n');
    }
    for(printf("%s\n       ",s),i=1;i<=MAXCOL;i++,lx+=incx)
	printf("%5d",lx);
    return;
}

int round_it( int t, int low, int inc)
{
    int x, fudge;

    if ( t%2 )
	fudge = inc + 1;
    else
	fudge = inc;

    x = (((t-low)*2 + fudge)/(inc*2));
    return x;
}
