<html>
<head> <title>Problem 60: Wires and Switches</title> </head>
<body background="../../usaco/bg3.jpg">
<img src="../../usaco/cow1.jpg" width="742" height="118">
<center>
<b><font size="7">Wires and Switches</font></b><br>
<b>IOI '95</b>
</center>

<center>
<IMG SRC="/usaco/probs/wires.gif" ALIGN=BOTTOM>
<BR>
Figure 1: Cable with three wires and three switches
</CENTER>

<P> In Figure 1, a cable with three wires connects side A to side B.  On
side A, the three wires are labeled 1, 2, and 3.  On side B, wires 1 and
3 are connected to switch 3, and wire 2 is connected to switch 1.

<P> In general, the cable contains m wires (1 &lt;= m &lt;= 90), labeled
1 through m on side A, and there are m switches on side B, labeled 1
through m.  Each wire is connected to exactly one of the switches.  Each
switch can be connected to zero or more wires.

<h3>Measurements</h3>

<p>Your program has to determine how the wires are connected to the
switches by doing some measurements.  Each switch can be made either
conducting or non-conducting.  Initially all switches are non-conducting.
A wire can be tested on side A with probe P:  Lamp L will light up if and
only if the sensed wire is connected to a conducting switch.

<P> Your program begins by reading one line with the number m from standard
input.  It then can give three kinds of commands by writing a line to
\emph{standard output}.  Each command starts with a single uppercase
letter:

<TT>T</TT> (Test a wire), <TT>C</TT> (Change a switch), and <TT>D</TT>
(Done).  Command <TT>T</TT> is followed by a wire label, <TT>C</TT> by a
switch label, and <TT>D</TT> by a list whose i-th element is the label of
the switch to which wire i is connected.

<P> After commands <TT>T</TT> and <TT>C</TT>, your program should read one
line from \emph{standard input}.  Command <TT>T</TT> returns <TT>Y</TT>
(Yes) when the wire's switch is conducting (the lamp lights up), otherwise
it returns <TT>N</TT> (No).  Command <TT>C</TT> returns <TT>Y</TT> if the
new switch state is conducting, and <TT>N</TT> otherwise.  The effect of
command <TT>C</TT> is to change the state of the switch (if it was
conducting then it will be non-conducting afterwards and vice versa); the
result is returned just for feedback.

<P> Your program may give commands <TT>T</TT> and <TT>C</TT> mixed in any
order.  Finally, it gives command <TT>D</TT> and terminates.  Your program
should give no more than nine hundred (900) commands in total.

<h3>Example</h3>

<p>Figure 2 presents an example conversation involving eight commands
relating to Figure 1.

<CENTER>
<PRE>
____________________________________
| Standard Output | Standard Input |
|_________________|________________|
__________________| 3              |
| C 3             | Y              |
| T 1             | Y              |
| T 2             | N              |
| T 3             | Y              |
| C 3             | N              |
| C 2             | Y              |
| T 2             | N              |
| D 3 1 3         |________________|
|_________________|                 
</PRE>
Figure 2: Example conversation
</CENTER>
<h3>PROGRAM NAME: switch</h3>

<p>Submit your program with its input/output to standard input and
standard output.
