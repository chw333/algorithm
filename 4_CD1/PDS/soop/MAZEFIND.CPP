#include<stdio.h>
#include <conio.h>

#define MAX 15
main()
{
	int a[100][100] = {{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
					   {1,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
					   {1,0,1,0,1,1,1,1,0,1,1,1,1,0,1},
					   {1,0,0,0,0,0,0,1,0,1,0,0,1,0,1},
					   {1,0,1,1,1,1,0,1,0,1,0,1,1,0,1},
					   {1,0,1,1,0,0,0,1,0,1,0,1,1,0,1},
					   {1,0,0,0,0,1,0,1,0,1,0,1,1,0,1},
					   {1,0,1,1,1,1,1,1,1,1,0,1,1,0,1},
					   {1,0,1,1,0,0,0,0,0,0,0,1,0,0,1},
					   {1,0,0,1,0,1,0,1,1,0,1,1,1,0,1},
					   {1,0,1,1,0,1,1,1,1,0,1,1,0,0,1},
					   {1,0,1,0,0,0,0,0,0,0,0,1,1,0,1},
					   {1,0,1,1,0,1,1,1,1,0,1,1,0,0,1},
					   {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
					   {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};
	int  i, j;
	int que[4000][4];
	int s,e;
	int dir[3][2] = { { 0 , 1} , { - 1 , 1 } , { 1 , 1 }};
	clrscr();
	FILE *fp;
	e = 0;
	s = 0;
	que[s][0] = 1;
	que[s][1] = 1;
	que[s][2] = 2;
	que[s][3] = 0;
	a[1][1] = 2;
	for (i = 0; i < MAX; i++)
	{
		for (j =0; j < MAX; j++)
			if (a[i][j] == 1) printf("XX ");
			else printf("   ");
		printf("\n");
	}

	do
	{
		for (i = 0; i < 3; i++)
		{
			int bx = que[e][0] + dir[i][0];
			int by = que[e][1] + dir[i][1];
			if (a[by][bx] == 0)
			{
				e++;
				que[e][0] = bx;
				que[e][1] = by;
				que[s][2] = que[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             e][2] + 1;
				que[s][3] = e;
				a[by][bx] = que[s][2];
				gotoxy(1 + (bx) * 3, by +1);
				printf("%2d ", a[by][bx]);
				getch();
			}
		}
		s++;
	} while (s <= e);
}



