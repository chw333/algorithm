#include <stdio.h>
#include <conio.h>

#define MAX 15
const int dir[4][2] = { {0, 1}, {0, -1}, {1, 0}, {-1, 0} };
int a[MAX][MAX] = { {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
					{1,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
					{1,0,1,0,1,1,1,1,0,1,1,1,1,0,1},
					{1,0,0,0,0,0,0,1,0,1,0,0,1,0,1},
					{1,0,1,1,1,1,0,1,0,1,0,1,1,0,1},
					{1,0,1,1,0,0,0,1,0,1,0,1,1,0,1},
					{1,0,0,0,0,1,0,1,0,1,0,1,1,0,1},
					{1,0,1,1,1,1,1,1,1,1,0,1,1,0,1},
					{1,0,1,1,0,0,0,0,0,0,0,1,0,0,1},
					{1,0,0,1,0,1,0,1,1,0,1,1,1,0,1},
					{1,0,1,1,0,1,1,1,1,0,1,1,0,0,1},
					{1,0,1,0,0,0,0,0,0,0,0,1,1,0,1},
					{1,0,1,1,0,1,1,1,1,0,1,1,0,0,1},
					{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
					{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1} };

void DFS(int x, int y)
{
	int i;
	for (i = 0; i < 4; i++)
	{
		int bx = x + dir[i][0];
		int by = y + dir[i][1];
			if (a[by][bx] == 0)
			{
				a[by][bx] = a[y][x] + 1;
				gotoxy(1 + (bx) * 3, by + 1);
				printf("%2d ", a[by][bx]);
				DFS(by, bx);
				getch();
			}
	}
}

main()
{
	int  i, j;

	clrscr();

	a[1][1] = 2;
	for (i = 0; i < MAX; i++)
	{
		for (j =0; j < MAX; j++)
			if (a[i][j] == 1) printf("XX ");
			else printf("   ");
		printf("\n");
	}
	DFS(1,1);
}



