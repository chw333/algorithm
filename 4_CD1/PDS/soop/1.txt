#include<time.h>
#include<stdio.h>
#include<fstream.h>

struct s{
	int a;
	int b;
	int c;
	int d;
} data[10001];

static int check[10001],stime;
int max=-99999,locat;
int n,s,e;

void swap(int a, int b)
{
	int t;
	t = a; a = b; b = t;
}

int ccw(int x1, int y1, int x2, int y2, int x3, int y3)
{
	return x1 * y2 + x2 * y3 + x3 * y1 - x1 * y3 - x2 * y1 - x3 * y2;
}
 int intersect(int x1,int y1,int x2,int y2,int x3,int y3,int x4,int y4)
{
	long m;
	float x;
	if(x1==x3&&y1==y3&&x2==x4&&y2==y4)
		return 1;
	if(x1>x2){
		swap(x1,x2); swap(y1,y2);
	}
	if(x3>x4){
		swap(x3,x4); swap(y3,y4);
	}
	m=(float)(x4-x3)*(y2-y1)-(float)(y4-y3)*(x2-x1);
	if(m==0)
		return -1;
	x=((float)(y3-y1)*(x2-x1)*(x4-x3)+(float)x1*(y2-y1)*(x4-x3)-(float)x3*(y4-y3)*(x2-x1))/(float)m;
	if(x1<=x&&x<=x2&&x3<=x&&x<=x4) return 1;
	else return -1;
}

 /*
int inter(int x1, int y1, int x2, int y2, int x3, int y3, int x4, int y4)
{
	int r123, r124, r341, r342,t;

	if (x1 > x2){
		t = x1; x1 = x2; x2 = t;
		t = y1; y1 = y2; y2 = t;
	}
	if (x3 > x4){
		t = x3; x3 = x4; x4 = t;
		t = y3; y3 = y4; y4 = t;
	}
	r123 = ccw(x1,y1,x2,y2,x3,y3);
	r124 = ccw(x1,y1,x2,y2,x4,y4);
	r341 = ccw(x3,y3,x4,y4,x1,y1);
	r342 = ccw(x3,y3,x4,y4,x2,y2);

	if (r123*r124 < 0 && r341*r342 < 0) return 1;

	if (r123 == 0 && r124 == 0){
		if (!(x3 > x2 || x1 > x4))
			return 0;
		else
			return -1;
	}

	if (r123 == 0){
		if (x1 <= x3 && x3 <= x2) return 0;
		else return -1;
	}

	if (r124 == 0){
		if (x1 <= x4 && x4 <= x2) return 0;
		else return -1;
	}
	if (r341 == 0){
		if (x3 <= x1 && x1 <= x4) return 0;
		else return -1;
	}
	if (r342 == 0){
		if (x3 <= x2 && x2 <= x4) return 0;
		else return -1;
	}
	return -1;
} */

void pro()
{
	int i,j;
	
	for (i=0;i<n;i++){
		for (j=i+1;j<n;j++){
			s = i; e = j;
			if (intersect(data[i].a,data[i].b,data[i].c,data[i].d,data[j].a,data[j].b,data[j].c,data[j].d) == 1){
				check[i]++;
				check[j]++;
			}
		}
		if (check[i] > max){
			max = check[i];
			locat = i;
		}
		if (check[j] > max){
			max = check[j];
			locat = j;
		}
	}
}

void input()
{
	int i;
	ifstream in ("meteor.inp");

	in >> n;

	for (i=0;i<n;i++){
		in >> data[i].a >> data[i].b >> data[i].c >> data[i].d;
	}
}

void output()
{
	ofstream out ("meteor.out");

	out << max << "\n";

	out << data[locat].a << ' ' << data[locat].b << ' ' << data[locat].c << ' ' << data[locat].d << ' ';

	printf("%f\n",(clock()-stime)/1000.0);
}

void main()
{
	stime = clock();
	input();
	pro();
	output();
}