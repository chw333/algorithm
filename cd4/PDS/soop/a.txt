int intersect(int x1,int y1,int x2,int y2,int x3,int y3,int x4,int y4)
{
	long m;
	float x;
	if(x1==x3&&y1==y3&&x2==x4&&y2==y4)
		return 1;
	if(x1>x2){
		swap(x1,x2); swap(y1,y2);
	}
	if(x3>x4){
		swap(x3,x4); swap(y3,y4);
	}
	m=(float)(x4-x3)*(y2-y1)-(float)(y4-y3)*(x2-x1);
	if(m==0)
		return -1;
	x=((float)(y3-y1)*(x2-x1)*(x4-x3)+(float)x1*(y2-y1)*(x4-x3)-(float)x3*(y4-y3)*(x2-x1))/(float)m;
	if(x1<=x&&x<=x2&&x3<=x&&x<=x4) return 1;
	else return -1;
}