제 목:[참고] Hungarian Method 강좌-_-;; 관련자료:없음 [366] 
보낸이:이준희 (neilnil ) 2000-07-13 12:45 조회:163 

Hungarian Method는 작업 할당 문제를 풀 때 적용되는 방법입니다 

각 사람이 각 일을 할 때 걸리는 시간을 표로 만들어 예를 들면 
  a b c d 
A 6 4 1 5 
B 10 6 3 8 
C 7 6 4 5 
D 9 10 3 8 
과 같은 형태로 나타낼 수 있습니다 
(A-D는 사람, a-d는 작업, 수는 걸리는 시간. 
사람과 작업은 바꾸어 생각하여도 무관합니다.) 

사람과 일이 각각 n개씩인 경우 가장 적은 시간에 모든 일을 끝내기 위해서 
위 표에서 n개의 매칭을 열과 행이 중복되지 않도록 뽑아야 합니다. 
(n- 
queen 문제와 비슷하게 생각하시면 됩니다. 물론 대각선으로는 중복가능) 

이제 이 표를 생각하기 쉬운 형태로 변형해야 합니다 
우선, A가 작업들을 끝내는 데 걸리는 시간들을 살펴보면 
각각 6, 4, 1, 5시간입니다 
어떤 수를 한 행의 모든 원소에 더하거나 빼는 것은 
답이 되는 매칭에는 영향을 주지 않습니다 
~~~~~~~~~~~~~~ 
간단히 생각해 보면 
A가 작업을 끝내는 데 걸리는 시간들에 각각 10시간씩을 더하면 
16, 14, 11, 15시간이 되는데 
이것은 전체 걸리는 시간이 +10이 될 뿐 
가장 적은 시간에 모든 일을 끝낼 수 있도록 하는 할당은 변함이 없습니다 
마찬가지로, 각 작업에 대해서도 이 논리는 성립합니다 
작업 a를 끝내는 데 A, B, C, D는 각각 6, 10, 7, 9시간씩 걸리지만 
같은 수를 같은 열의 모든 원소에 더하거나 빼어도 
답이 되는 매칭은 변하지 않습니다 

이 규칙을 이용하여 각 열에서 그 열에서 가장 작은 원소를 뺍니다 
즉, A열에서는 1, B열에서는 3, C열에서는 4, D열에서는 3을 각각 뺍니다 
그러면 이 표는 
5 3 0 4 
7 3 0 5 
3 2 0 1 
6 7 0 5 
의 형태로 변환됩니다 
이제 이 새로운 표의 각 행에서 그 행에서 가장 작은 원소를 뺍니다 
변환 후의 표는 
2 1 0 3 
4 1 0 4 
0 0 0 0 
3 5 0 4 
로 나타내어집니다 

각 행과 각 열의 최소값이 모두 0이되는 형태로 표를 나타내었을 때 
행과 열이 중복되지 않도록 n개의 0을 뽑아낼 수 있다면 
그것이 정답이 되겠죠 
(왜냐하면 변환후의 표는 처음의 표와 동일하다고 볼 수 있는데 
n개의 0을 뽑는다면 이 때 가중치의 합은 0이 되고 
표의 수는 음이 아닌 수이므로 이것이 최소값임은 명백합니다) 
행과 열이 중복되지 않도록 n개의 0을 뽑을 수 있는지를 판별하기 위하여 
모든 0을 가로지를 수 있는 가로선, 세로선의 최소 수를 구합니다 
이 경우에는 2가 되겠죠 
2 1 I 3 
4 1 I 4 
- - + - 
3 5 I 4 
이 직선의 수가 n이라면 중복되지 않게 뽑는 것이 가능합니다 
(물론 최소 직선의 수가 n보다 큰 경우는 존재하지 않습니다. 
이 명제가 좀 헷갈리는데 한 번 생각해 보시면 알 수 있을겁니다.) 
그러나 위의 경우에는 직선의 수가 n보다 작으므로 
행과 열이 중복되지 않게 n개의 0을 뽑는 것이 
불가능합니다 
그러므로, 행과 열에서 어떤 수를 더하고 빼는 작업을 반복하여 
해를 뽑을 수 있는 형태로 표를 변환시켜야 합니다 

새롭게 표를 변환하기 위해서 (결국은 같은 규칙을 적용시키면서) 
남은 0이 아닌 원소중 가장 작은 숫자를 구합니다 
위의 경우에는 1이 되겠죠 
이제 이 수를 직선으로 가로지르지 않은 각 행의 모든 원소에서 빼고 
직선으로 가로지른 각 열의 모든 원소에 더합니다 
(행과 열을 바꿔 생각하여도 무방합니다 
왜 이렇게 하는지는 한 번 생각해 보시길 
어쨌든 이렇게 더하고 빼어도 처음의 표와 같은 결과를 갖는다는 것은 
앞에서 이미 확인하였죠) 
이 변환 후 표는 

1 0 0 2 
3 0 0 3 
0 0 1 0 
2 4 0 3 
이 됩니다 
슬프게도 이 표도 직선 세개로 모든 0을 가로지를 수 있습니다 
(C행, b열, c열) 
고로 이 연산을 한 번 더 적용해야겠죠 
(이 연산은 모든 0을 가로지르는데 필요한 최소 직선의 수가 
n개가 될 때까지 반복합니다) 

그러면 결국 표는 
0 0 0 1 
2 0 0 2 
0 1 2 0 
1 4 0 2 
로 변환되고 
4개 미만의 직선으로는 죽어도 모든 0을 가로지를 수 없습니다 
(물론 가로, 세로방향의 직선만으로) 
이제 알아서 한행에서 하나씩 열이 겹치지 않도록 0을 뽑아내십시오 
이것이 최소값을 갖는 매칭임은 틀림없습니다 

왜냐하면, 마지막의 표에서 임의의 매칭을 선택하였을 때 
그 값의 합을 c라 한다면 
이 때의 최소 시간은 
지금까지 행이나 열에서 뺀 수의 총 합 + c 가 되는데 
(더한 경우는 음수로 처리해야겠죠) 
c의 최소값은 0이고, 위에서 구한 n개? 
때문입니다 

이상 허접한 Hungarian Method 강좌였습니다 

나름대로 이해한 방법이라 오류가 있을지 모르겠네요 
잘못된 부분 있으면 지적해 주시구요 
쉽게 설명하기 위해 노력했지만 
간단한거 너무 복잡하게 설명한거 같기도 하구 
제가 말주변이 없어서 이해가 잘 안되실지도 모르겠네요 
http://www.cs.adfa.oz.au/~mariamf/ms3e/assign.htm 
위 주소가 유일한 이 강좌의 참고자료입니다 
영어로 보시는 것이 더 이해가 쉬우실지도-_-;; 

이만요. 

ps. 나름대로 노력해서 쓴겁니다 
개인적인 용도로 사용하시고 
다른 곳에 올릴 경우 알려주시길
